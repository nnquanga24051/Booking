@{
    ViewData["Title"] = "Admin Dashboard";
    // Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@section Styles {
    <link rel="stylesheet" href="~/css/admin-dashboard.css" asp-append-version="true" />
}

<div class="dashboard-container">
    <div class="dashboard-header">
        <h1 class="dashboard-title">📊 Tổng Quan Hệ Thống</h1>
        <div class="header-actions">
            <button class="refresh-btn" onclick="location.reload()">🔄 Làm Mới</button>
            <span class="last-update">Cập nhật: <span id="lastUpdate"></span></span>
        </div>
    </div>

    <div class="stats-grid">
        <div class="stat-card blue">
            <div class="stat-icon">👥</div>
            <div class="stat-content">
                <div class="stat-value">247</div>
                <div class="stat-label">Tổng Người Dùng</div>
                <div class="stat-change positive">+12% so với tháng trước</div>
            </div>
        </div>

        <div class="stat-card green">
            <div class="stat-icon">🏨</div>
            <div class="stat-content">
                <div class="stat-value">75</div>
                <div class="stat-label">Tổng Số Phòng</div>
                <div class="stat-change positive">+5 phòng mới</div>
            </div>
        </div>

        <div class="stat-card orange">
            <div class="stat-icon">📅</div>
            <div class="stat-content">
                <div class="stat-value">156</div>
                <div class="stat-label">Đặt Phòng Tháng Này</div>
                <div class="stat-change positive">+23% tăng trưởng</div>
            </div>
        </div>

        <div class="stat-card purple">
            <div class="stat-icon">💰</div>
            <div class="stat-content">
                <div class="stat-value">124M</div>
                <div class="stat-label">Doanh Thu (VNĐ)</div>
                <div class="stat-change positive">+18% so với tháng trước</div>
            </div>
        </div>
    </div>

    <div class="dashboard-grid">
        <div class="dashboard-card recent-bookings">
            <div class="card-header">
                <h3>📋 Đặt Phòng Gần Đây</h3>
                <a href="/Admin/Bookings" class="view-all">Xem Tất Cả →</a>
            </div>
            <div class="card-body">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Khách Hàng</th>
                            <th>Phòng</th>
                            <th>Check-in</th>
                            <th>Check-out</th>
                            <th>Trạng Thái</th>
                            <th>Tổng Tiền</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>#001</td>
                            <td>Nguyễn Văn A</td>
                            <td>Phòng 101</td>
                            <td>01/02/2026</td>
                            <td>03/02/2026</td>
                            <td><span class="status-badge booked">Đã Đặt</span></td>
                            <td>1,000,000₫</td>
                        </tr>
                        <tr>
                            <td>#002</td>
                            <td>Trần Thị B</td>
                            <td>Phòng 102</td>
                            <td>05/02/2026</td>
                            <td>07/02/2026</td>
                            <td><span class="status-badge completed">Hoàn Thành</span></td>
                            <td>1,400,000₫</td>
                        </tr>
                        <tr>
                            <td>#003</td>
                            <td>Lê Văn C</td>
                            <td>Phòng 202</td>
                            <td>10/02/2026</td>
                            <td>12/02/2026</td>
                            <td><span class="status-badge cancelled">Đã Hủy</span></td>
                            <td>1,600,000₫</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="dashboard-card room-status">
            <div class="card-header">
                <h3>🏨 Tình Trạng Phòng</h3>
                <a href="/Admin/Rooms" class="view-all">Quản Lý →</a>
            </div>
            <div class="card-body">
                <div class="room-status-grid">
                    <div class="room-status-item">
                        <div class="status-circle available"></div>
                        <div class="status-info">
                            <div class="status-number">45</div>
                            <div class="status-text">Còn Trống</div>
                        </div>
                    </div>
                    <div class="room-status-item">
                        <div class="status-circle booked"></div>
                        <div class="status-info">
                            <div class="status-number">25</div>
                            <div class="status-text">Đã Đặt</div>
                        </div>
                    </div>
                    <div class="room-status-item">
                        <div class="status-circle maintenance"></div>
                        <div class="status-info">
                            <div class="status-number">5</div>
                            <div class="status-text">Bảo Trì</div>
                        </div>
                    </div>
                </div>
                <div class="chart-placeholder">
                    <canvas id="roomChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <div class="dashboard-grid-3">
        <div class="dashboard-card">
            <div class="card-header">
                <h3>🏢 Chi Nhánh</h3>
                <a href="/Admin/Branches" class="view-all">Quản Lý →</a>
            </div>
            <div class="card-body">
                <div class="branch-list">
                    <div class="branch-item">
                        <div class="branch-icon">📍</div>
                        <div class="branch-info">
                            <div class="branch-name">Cần Thơ</div>
                            <div class="branch-rooms">20 phòng</div>
                        </div>
                        <div class="branch-status">Hoạt động</div>
                    </div>
                    <div class="branch-item">
                        <div class="branch-icon">📍</div>
                        <div class="branch-info">
                            <div class="branch-name">TP.HCM</div>
                            <div class="branch-rooms">25 phòng</div>
                        </div>
                        <div class="branch-status">Hoạt động</div>
                    </div>
                    <div class="branch-item">
                        <div class="branch-icon">📍</div>
                        <div class="branch-info">
                            <div class="branch-name">Hà Nội</div>
                            <div class="branch-rooms">30 phòng</div>
                        </div>
                        <div class="branch-status">Hoạt động</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-card">
            <div class="card-header">
                <h3>👥 Người Dùng Mới</h3>
                <a href="/Admin/Users" class="view-all">Quản Lý →</a>
            </div>
            <div class="card-body">
                <div class="user-list">
                    <div class="user-item">
                        <div class="user-avatar">👤</div>
                        <div class="user-info">
                            <div class="user-name">Nguyễn Văn D</div>
                            <div class="user-email">d@gmail.com</div>
                        </div>
                        <div class="user-badge">Mới</div>
                    </div>
                    <div class="user-item">
                        <div class="user-avatar">👤</div>
                        <div class="user-info">
                            <div class="user-name">Trần Thị E</div>
                            <div class="user-email">e@gmail.com</div>
                        </div>
                        <div class="user-badge">Mới</div>
                    </div>
                    <div class="user-item">
                        <div class="user-avatar">👤</div>
                        <div class="user-info">
                            <div class="user-name">Lê Văn F</div>
                            <div class="user-email">f@gmail.com</div>
                        </div>
                        <div class="user-badge">Mới</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-card">
            <div class="card-header">
                <h3>📊 Thống Kê Nhanh</h3>
            </div>
            <div class="card-body">
                <div class="quick-stats">
                    <div class="quick-stat-item">
                        <div class="quick-stat-label">Tỷ lệ lấp đầy</div>
                        <div class="quick-stat-value">67%</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 67%"></div>
                        </div>
                    </div>
                    <div class="quick-stat-item">
                        <div class="quick-stat-label">Đánh giá TB</div>
                        <div class="quick-stat-value">4.8⭐</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 96%"></div>
                        </div>
                    </div>
                    <div class="quick-stat-item">
                        <div class="quick-stat-label">Khách hàng quay lại</div>
                        <div class="quick-stat-value">82%</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 82%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/admin-dashboard.js" asp-append-version="true"></script>
}